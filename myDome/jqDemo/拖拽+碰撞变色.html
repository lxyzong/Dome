<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	 <style type="text/css">
   *{
   	 margin: 0;
   	 padding: 0;
   }
   html body{
   	 width: 100%;
   	 height: 100%;
   }
   #a1{
   	 width: 80px;
   	 height:80px;
   	 background-color: red;
   	 position: absolute;
   }
  #a2{
  	   width: 100px;
  	   height: 100px;
  	   background-color: #ccc;
  	   position: absolute;
  	   right: 300px;
  	   top:300px;
  }



	 </style>
</head>
<body>
	 <div id="a1"></div>
	 <div id="a2"></div>


	 <script type="text/javascript">
 
   var  div1=document.getElementById("a1");

   div1.onmousedown=function(event){
     var jiux=event.clientX-div1.offsetLeft;
     var jiuy=event.clientY-div1.offsetTop;
    
      document.onmousemove=function(event){
              // var xinx=event.clientX-jiux;
              // var xiny=event.clientY-jiuy;
                
                // div1.style.left=xinx+"px";
                // div1.style.top=xiny+"px";
                div1.style.left=event.clientX-jiux+"px";
                div1.style.top=event.clientY-jiuy+"px";
                peng();
      }

      div1.onmouseup=function(){
      	   document.onmousedown=document.onmousemove=null;
      }
   }
  
   function  peng(){
          var div1=document.getElementById("a1");
          var div2=document.getElementById("a2");

          var rr=div1.offsetLeft+div1.offsetWidth;
          var rb=div1.offsetTop+div1.offsetHeight;
          var rl=div1.offsetLeft;
          var rt=div1.offsetTop;

          var cr=div2.offsetLeft+div2.offsetWidth;
          var cb=div2.offsetTop+div2.offsetHeight;
          var cl=div2.offsetLeft;
          var ct=div2.offsetTop;
          // var r=parseInt(Math.random()*256);
          // var g=parseInt(Math.random()*256);
          // var b=parseInt(Math.random()*256);
   
      if( !(rr<cl||rl>cr||rb<ct||rt>cb)  ){
      	   // div2.style.background="rgb("+r+","+g+","+b+")";
      	   div2.style.background="blue";
      }else{
      	  div2.style.background="#ccc";

      }

    }



	 </script>
</body>
</html>